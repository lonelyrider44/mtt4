(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{rzVW:function(t,e,r){"use strict";r.r(e),r.d(e,"PredmetModule",(function(){return x}));var i=r("ofXK"),n=r("tyNb"),o=r("fXoL");let a=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Bb({type:t,selectors:[["app-details"]],decls:2,vars:0,template:function(t,e){1&t&&(o.Kb(0,"p"),o.bc(1,"details works!"),o.Jb())},styles:[""]}),t})();var s=r("3Pt+"),c=r("tk/3"),b=r("z6cu"),d=r("JIr8");let p=(()=>{class t{constructor(t){this.httpClient=t,this.apiServer="/api",this.httpOptions={headers:new c.d({"Content-Type":"application/json"})}}create(t){return this.httpClient.post(this.apiServer+"/predmet",JSON.stringify(t),this.httpOptions)}getById(t){return this.httpClient.get(this.apiServer+"/predmet/"+t).pipe(Object(d.a)(this.errorHandler))}getAll(){return this.httpClient.get(this.apiServer+"/predmet").pipe(Object(d.a)(this.errorHandler))}update(t,e){return this.httpClient.put(this.apiServer+"/predmet/"+t,JSON.stringify(e),this.httpOptions)}delete(t){return this.httpClient.delete(this.apiServer+"/predmet/"+t,this.httpOptions).pipe(Object(d.a)(this.errorHandler))}errorHandler(t){let e="";return e=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,Object(b.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(c.b))},t.\u0275prov=o.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),l=(()=>{class t{constructor(t){this.httpClient=t,this.apiServer="/api",this.httpOptions={headers:new c.d({"Content-Type":"application/json"})}}create(t){return this.httpClient.post(this.apiServer+"/nivo_obrazovanja",JSON.stringify(t),this.httpOptions)}getById(t){return this.httpClient.get(this.apiServer+"/nivo_obrazovanja/"+t).pipe(Object(d.a)(this.errorHandler))}getAll(){return this.httpClient.get(this.apiServer+"/nivo_obrazovanja").pipe(Object(d.a)(this.errorHandler))}update(t,e){return this.httpClient.put(this.apiServer+"/nivo_obrazovanja/"+t,JSON.stringify(e),this.httpOptions)}delete(t){return this.httpClient.delete(this.apiServer+"/nivo_obrazovanja/"+t,this.httpOptions).pipe(Object(d.a)(this.errorHandler))}errorHandler(t){let e="";return e=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,Object(b.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(c.b))},t.\u0275prov=o.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function u(t,e){if(1&t&&(o.Kb(0,"div",17),o.Kb(1,"small"),o.bc(2),o.Jb(),o.Jb()),2&t){const t=o.Tb();o.xb(2),o.cc(t.errors.naziv)}}function h(t,e){if(1&t&&(o.Kb(0,"option",18),o.bc(1),o.Jb()),2&t){const t=e.$implicit;o.Ub("value",t.id),o.xb(1),o.cc(t.naziv)}}function m(t,e){if(1&t&&(o.Kb(0,"div",17),o.Kb(1,"small"),o.bc(2),o.Jb(),o.Jb()),2&t){const t=o.Tb();o.xb(2),o.cc(t.errors.id_nivoa)}}function v(t,e){1&t&&(o.Kb(0,"button",19),o.bc(1,"Submit"),o.Jb())}function f(t,e){1&t&&(o.Kb(0,"button",20),o.bc(1,"Delete"),o.Jb())}const g=function(t){return{"is-invalid":t}};let y=(()=>{class t{constructor(t,e,r,i,n){this.fb=t,this.router=e,this.activatedRoute=r,this.predmetService=i,this.nivoiService=n,this.predmet={id:null,naziv:"",id_nivoa:null},this.errors=[],this.action="",this.nivoi=[]}ngOnInit(){this.action=this.activatedRoute.snapshot.url[0].path,this.activatedRoute.snapshot.url[1]&&this.predmetService.getById(this.activatedRoute.snapshot.url[1].path).subscribe(t=>{this.predmet=t}),this.predmetForm=this.fb.group({naziv:[""],id_nivoa:[""]}),this.nivoiService.getAll().subscribe({next:t=>{this.nivoi=t},error:t=>{this.errors=t.error.errors}})}submitForm(){switch(this.action){case"create":console.log(this.predmetForm.value),this.predmetService.create(this.predmetForm.value).subscribe({next:t=>{this.router.navigateByUrl("/predmeti/home")},error:t=>{this.errors=t.error.errors}});break;case"update":this.predmetService.update(this.predmet.id,this.predmetForm.value).subscribe({next:t=>{this.router.navigateByUrl("/predmeti/home")},error:t=>{this.errors=t.error.errors}});break;case"delete":this.predmetService.delete(this.predmet.id).subscribe({next:t=>{this.router.navigateByUrl("/predmeti/home")},error:t=>{this.errors=t.error.errors}})}}}return t.\u0275fac=function(e){return new(e||t)(o.Hb(s.b),o.Hb(n.f),o.Hb(n.a),o.Hb(p),o.Hb(l))},t.\u0275cmp=o.Bb({type:t,selectors:[["app-form"]],decls:26,vars:14,consts:[[1,"card","card-primary"],[1,"card-header"],[1,"card-title"],["novalidate","",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","placeholder","Naziv","formControlName","naziv",1,"form-control","form-control-border",3,"ngClass","ngModel"],["class","text-danger",4,"ngIf"],["formControlName","id_nivoa",1,"form-control","form-control-border",3,"ngClass","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"custom-control","custom-switch","custom-switch-off-danger","custom-switch-on-success"],["type","checkbox","id","customSwitch3",1,"custom-control-input"],["for","customSwitch3",1,"custom-control-label"],[1,"card-footer"],["type","submit","class","btn btn-primary",4,"ngIf"],["type","submit","class","btn btn-danger",4,"ngIf"],[1,"text-danger"],[3,"value"],["type","submit",1,"btn","btn-primary"],["type","submit",1,"btn","btn-danger"]],template:function(t,e){1&t&&(o.Kb(0,"div",0),o.Kb(1,"div",1),o.Kb(2,"h3",2),o.bc(3,"Predmet"),o.Jb(),o.Jb(),o.Kb(4,"form",3),o.Rb("ngSubmit",(function(){return e.submitForm()})),o.Kb(5,"div",4),o.Kb(6,"div",5),o.Kb(7,"label",6),o.bc(8,"Naziv"),o.Jb(),o.Ib(9,"input",7),o.ac(10,u,3,1,"div",8),o.Jb(),o.Kb(11,"div",5),o.Kb(12,"label"),o.bc(13,"Nivo obrazovanja"),o.Jb(),o.Kb(14,"select",9),o.Ib(15,"option"),o.ac(16,h,2,2,"option",10),o.Jb(),o.ac(17,m,3,1,"div",8),o.Jb(),o.Kb(18,"div",5),o.Kb(19,"div",11),o.Ib(20,"input",12),o.Kb(21,"label",13),o.bc(22,"Stru\u010dan predmet"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(23,"div",14),o.ac(24,v,2,0,"button",15),o.ac(25,f,2,0,"button",16),o.Jb(),o.Jb(),o.Jb()),2&t&&(o.xb(4),o.Ub("formGroup",e.predmetForm),o.xb(5),o.Ub("ngClass",o.Vb(10,g,e.errors.naziv))("ngModel",e.predmet.naziv),o.xb(1),o.Ub("ngIf",e.errors.naziv),o.xb(4),o.Ub("ngClass",o.Vb(12,g,e.errors.id_nivoa))("ngModel",e.predmet.id_nivoa),o.xb(2),o.Ub("ngForOf",e.nivoi),o.xb(1),o.Ub("ngIf",e.errors.id_nivoa),o.xb(7),o.Ub("ngIf","delete"!=e.action),o.xb(1),o.Ub("ngIf","delete"==e.action))},directives:[s.n,s.h,s.d,s.a,s.g,s.c,i.h,i.j,s.l,s.j,s.m,i.i],styles:[""]}),t})();const S=["dataTablePredmeti"],J=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class t{constructor(t,e){this.predmetService=t,this.router=e,this.mesta=[]}ngOnInit(){}ngAfterViewInit(){const t=this;this.dataTable=$(this.table.nativeElement),this.dataTable.DataTable({ajax:(t,e)=>{this.predmetService.getAll().subscribe(t=>{e({recordsTotal:t.recordsTotal,recordsFiltered:t.recordsFiltered,data:t.data})})},responsive:!0,autoWidth:!1,buttons:{buttons:[{text:'<i class="fas fa-plus"></i>',action:function(e,r,i,n){t.router.navigateByUrl("/predmeti/create")},className:"btn btn-primary"},"copy","csv","excel",{extend:"pdfHtml5",text:"Export PDF",orientation:"landscape",customize:function(t){var e=new Array;$("#datatable_predmeti").find("tbody tr:first-child td").each((function(){if($(this).attr("colspan"))for(var t=1;t<=$(this).attr("colspan");t++)e.push("*");else e.push("*")})),t.content[1].table.widths=e}},"print","colvis"],dom:{button:{className:"btn"}}},dom:"Bfrtip",columns:[{title:"ID",data:"id",name:"id"},{title:"Naziv",data:"naziv",name:"naziv"},{title:"Akcije",data:"action",name:"action",width:"10%"}],drawCallback:function(){$(".btnEditPredmet").on("click",(function(){t.router.navigateByUrl("/predmeti/update/"+$(this).data("id"))})),$(".btnRemovePredmet").on("click",(function(){t.router.navigateByUrl("/predmeti/delete/"+$(this).data("id"))}))}}).buttons().container().appendTo("#datatable_predmeti_wrapper .col-md-6:eq(0)")}}return t.\u0275fac=function(e){return new(e||t)(o.Hb(p),o.Hb(n.f))},t.\u0275cmp=o.Bb({type:t,selectors:[["app-index"]],viewQuery:function(t,e){var r;1&t&&o.dc(S,!0),2&t&&o.Wb(r=o.Sb())&&(e.table=r.first)},decls:3,vars:0,consts:[["id","datatable_predmeti",1,"table","table-bordered","table-striped","table-sm"],["dataTablePredmeti",""]],template:function(t,e){1&t&&(o.Kb(0,"div"),o.Ib(1,"table",0,1),o.Jb())},styles:[""]}),t})()},{path:"details/:id",component:a},{path:"create",component:y},{path:"update/:id",component:y},{path:"delete/:id",component:y}];let w=(()=>{class t{}return t.\u0275mod=o.Fb({type:t}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},imports:[[n.j.forChild(J)],n.j]}),t})(),x=(()=>{class t{}return t.\u0275mod=o.Fb({type:t}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},imports:[[i.b,w,c.c,s.e,s.k]]}),t})()}}]);