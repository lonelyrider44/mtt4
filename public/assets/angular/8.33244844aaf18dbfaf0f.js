(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{zo2S:function(t,e,i){"use strict";i.r(e),i.d(e,"KorisnikModule",(function(){return y}));var r=i("ofXK"),n=i("tyNb"),s=i("fXoL");let o=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Bb({type:t,selectors:[["app-details"]],decls:2,vars:0,template:function(t,e){1&t&&(s.Kb(0,"p"),s.bc(1,"details works!"),s.Jb())},styles:[""]}),t})();var a=i("3Pt+"),c=i("tk/3"),b=i("z6cu"),l=i("JIr8");let d=(()=>{class t{constructor(t){this.httpClient=t,this.apiServer="/api",this.httpOptions={headers:new c.d({"Content-Type":"application/json"})}}create(t){return this.httpClient.post(this.apiServer+"/korisnik",JSON.stringify(t),this.httpOptions)}getById(t){return this.httpClient.get(this.apiServer+"/korisnik/"+t).pipe(Object(l.a)(this.errorHandler))}getAll(){return this.httpClient.get(this.apiServer+"/korisnik").pipe(Object(l.a)(this.errorHandler))}update(t,e){return this.httpClient.put(this.apiServer+"/korisnik/"+t,JSON.stringify(e),this.httpOptions)}delete(t){return this.httpClient.delete(this.apiServer+"/korisnik/"+t,this.httpOptions).pipe(Object(l.a)(this.errorHandler))}errorHandler(t){let e="";return e=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,Object(b.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(c.b))},t.\u0275prov=s.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function p(t,e){if(1&t&&(s.Kb(0,"div",12),s.Kb(1,"small"),s.bc(2),s.Jb(),s.Jb()),2&t){const t=s.Tb();s.xb(2),s.cc(t.errors.naziv)}}function u(t,e){1&t&&(s.Kb(0,"button",13),s.bc(1,"Submit"),s.Jb())}function h(t,e){1&t&&(s.Kb(0,"button",14),s.bc(1,"Delete"),s.Jb())}const m=function(t){return{"is-invalid":t}};let f=(()=>{class t{constructor(t,e,i,r){this.fb=t,this.router=e,this.activatedRoute=i,this.korisnikService=r,this.korisnik={id:null,naziv:""},this.errors=[],this.action=""}ngOnInit(){this.action=this.activatedRoute.snapshot.url[0].path,this.activatedRoute.snapshot.url[1]&&this.korisnikService.getById(this.activatedRoute.snapshot.url[1].path).subscribe(t=>{this.korisnik=t}),this.korisnikForm=this.fb.group({naziv:[""]})}submitForm(){switch(this.action){case"create":this.korisnikService.create(this.korisnikForm.value).subscribe({next:t=>{this.router.navigateByUrl("/korisnici/home")},error:t=>{this.errors=t.error.errors}});break;case"update":this.korisnikService.update(this.korisnik.id,this.korisnikForm.value).subscribe({next:t=>{this.router.navigateByUrl("/korisnici/home")},error:t=>{this.errors=t.error.errors}});break;case"delete":this.korisnikService.delete(this.korisnik.id).subscribe({next:t=>{this.router.navigateByUrl("/korisnici/home")},error:t=>{this.errors=t.error.errors}})}}}return t.\u0275fac=function(e){return new(e||t)(s.Hb(a.b),s.Hb(n.f),s.Hb(n.a),s.Hb(d))},t.\u0275cmp=s.Bb({type:t,selectors:[["app-form"]],decls:14,vars:8,consts:[[1,"card","card-primary"],[1,"card-header"],[1,"card-title"],["novalidate","",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","placeholder","Naziv","formControlName","naziv",1,"form-control","form-control-border",3,"ngClass","ngModel"],["class","text-danger",4,"ngIf"],[1,"card-footer"],["type","submit","class","btn btn-primary",4,"ngIf"],["type","submit","class","btn btn-danger",4,"ngIf"],[1,"text-danger"],["type","submit",1,"btn","btn-primary"],["type","submit",1,"btn","btn-danger"]],template:function(t,e){1&t&&(s.Kb(0,"div",0),s.Kb(1,"div",1),s.Kb(2,"h3",2),s.bc(3,"Korisnik"),s.Jb(),s.Jb(),s.Kb(4,"form",3),s.Rb("ngSubmit",(function(){return e.submitForm()})),s.Kb(5,"div",4),s.Kb(6,"div",5),s.Kb(7,"label",6),s.bc(8,"Naziv"),s.Jb(),s.Ib(9,"input",7),s.Jb(),s.ac(10,p,3,1,"div",8),s.Jb(),s.Kb(11,"div",9),s.ac(12,u,2,0,"button",10),s.ac(13,h,2,0,"button",11),s.Jb(),s.Jb(),s.Jb()),2&t&&(s.xb(4),s.Ub("formGroup",e.korisnikForm),s.xb(5),s.Ub("ngClass",s.Vb(6,m,e.errors.naziv))("ngModel",e.korisnik.naziv),s.xb(1),s.Ub("ngIf",e.errors.naziv),s.xb(2),s.Ub("ngIf","delete"!=e.action),s.xb(1),s.Ub("ngIf","delete"==e.action))},directives:[a.n,a.h,a.d,a.a,a.g,a.c,r.h,r.j],styles:[""]}),t})();const k=["dataTableKorisnici"],v=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class t{constructor(t,e){this.korisnikService=t,this.router=e,this.mesta=[]}ngOnInit(){}ngAfterViewInit(){const t=this;this.dataTable=$(this.table.nativeElement),this.dataTable.DataTable({ajax:(t,e)=>{this.korisnikService.getAll().subscribe(t=>{e({recordsTotal:t.recordsTotal,recordsFiltered:t.recordsFiltered,data:t.data})})},responsive:!0,autoWidth:!1,buttons:{buttons:[{text:'<i class="fas fa-plus"></i>',action:function(e,i,r,n){t.router.navigateByUrl("/korisnici/create")},className:"btn btn-primary"},"copy","csv","excel",{extend:"pdfHtml5",text:"Export PDF",orientation:"landscape",customize:function(t){var e=new Array;$("#datatable_korisnici").find("tbody tr:first-child td").each((function(){if($(this).attr("colspan"))for(var t=1;t<=$(this).attr("colspan");t++)e.push("*");else e.push("*")})),t.content[1].table.widths=e}},"print","colvis"],dom:{button:{className:"btn"}}},dom:"Bfrtip",columns:[{title:"ID",data:"id",name:"id"},{title:"Naziv",data:"naziv",name:"naziv"},{title:"Akcije",data:"action",name:"action",width:"10%"}],drawCallback:function(){$(".btnEditKorisnik").on("click",(function(){t.router.navigateByUrl("/korisnici/update/"+$(this).data("id"))})),$(".btnRemoveKorisnik").on("click",(function(){t.router.navigateByUrl("/korisnici/delete/"+$(this).data("id"))}))}}).buttons().container().appendTo("#datatable_korisnici_wrapper .col-md-6:eq(0)")}}return t.\u0275fac=function(e){return new(e||t)(s.Hb(d),s.Hb(n.f))},t.\u0275cmp=s.Bb({type:t,selectors:[["app-index"]],viewQuery:function(t,e){var i;1&t&&s.dc(k,!0),2&t&&s.Wb(i=s.Sb())&&(e.table=i.first)},decls:3,vars:0,consts:[["id","datatable_korisnici",1,"table","table-bordered","table-striped","table-sm"],["dataTableKorisnici",""]],template:function(t,e){1&t&&(s.Kb(0,"div"),s.Ib(1,"table",0,1),s.Jb())},styles:[""]}),t})()},{path:"details/:id",component:o},{path:"create",component:f},{path:"update/:id",component:f},{path:"delete/:id",component:f}];let g=(()=>{class t{}return t.\u0275mod=s.Fb({type:t}),t.\u0275inj=s.Eb({factory:function(e){return new(e||t)},imports:[[n.j.forChild(v)],n.j]}),t})(),y=(()=>{class t{}return t.\u0275mod=s.Fb({type:t}),t.\u0275inj=s.Eb({factory:function(e){return new(e||t)},imports:[[r.b,g,c.c,a.e,a.k]]}),t})()}}]);